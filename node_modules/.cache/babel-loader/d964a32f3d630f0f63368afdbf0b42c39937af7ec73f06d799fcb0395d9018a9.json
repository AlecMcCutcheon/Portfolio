{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Portfolio\\\\src\\\\ui\\\\background-gradient-animation.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useRef, useState, createContext } from \"react\";\nimport { cn } from \"../lib/utils\";\n\n// Context for background color sampling\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BackgroundColorContext = /*#__PURE__*/createContext(undefined);\n\n// Provider that takes a ref to the background container and provides color sampling\nexport const BackgroundColorProvider = ({\n  containerRef,\n  children\n}) => {\n  _s();\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  useEffect(() => {\n    const checkDark = () => setIsDarkMode(document.documentElement.classList.contains('dark'));\n    checkDark();\n    const observer = new MutationObserver(checkDark);\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['class']\n    });\n    return () => observer.disconnect();\n  }, []);\n  // Color sampling function using the container's bounding rect\n  const getBackgroundColorAt = (x, y) => {\n    if (!containerRef.current) return undefined;\n    const rect = containerRef.current.getBoundingClientRect();\n    const normalizedX = (x - rect.left) / rect.width;\n    const normalizedY = (y - rect.top) / rect.height;\n    const colors = isDarkMode ? [\"37, 99, 235\", \"126, 34, 206\", \"6, 182, 212\", \"190, 24, 93\", \"21, 128, 61\"] : [\"18, 113, 255\", \"221, 74, 255\", \"100, 220, 255\", \"200, 50, 50\", \"180, 180, 50\"];\n    const regions = [{\n      x: 0.2,\n      y: 0.1,\n      color: colors[0]\n    }, {\n      x: 0.8,\n      y: 0.1,\n      color: colors[1]\n    }, {\n      x: 0.5,\n      y: 0.5,\n      color: colors[2]\n    }, {\n      x: 0.2,\n      y: 0.8,\n      color: colors[3]\n    }, {\n      x: 0.8,\n      y: 0.8,\n      color: colors[4]\n    }];\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    regions.forEach(region => {\n      const distance = Math.sqrt(Math.pow(normalizedX - region.x, 2) + Math.pow(normalizedY - region.y, 2));\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n    return `rgb(${closestRegion.color})`;\n  };\n  return /*#__PURE__*/_jsxDEV(BackgroundColorContext.Provider, {\n    value: {\n      getBackgroundColorAt\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(BackgroundColorProvider, \"bUs4CHDjU8AH+ZZYt8wlh4bHppI=\");\n_c = BackgroundColorProvider;\nexport const BackgroundGradientAnimation = ({\n  gradientBackgroundStart = \"rgb(108, 0, 162)\",\n  gradientBackgroundEnd = \"rgb(0, 17, 82)\",\n  firstColor = \"18, 113, 255\",\n  secondColor = \"221, 74, 255\",\n  thirdColor = \"100, 220, 255\",\n  fourthColor = \"200, 50, 50\",\n  fifthColor = \"180, 180, 50\",\n  pointerColor = \"140, 100, 255\",\n  size = \"80%\",\n  blendingValue = \"hard-light\",\n  children,\n  className,\n  interactive = true,\n  containerClassName\n}) => {\n  _s2();\n  const containerRef = useRef(null);\n  const [curX, setCurX] = useState(0);\n  const [curY, setCurY] = useState(0);\n  const [tgX, setTgX] = useState(0);\n  const [tgY, setTgY] = useState(0);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [dynamicPointerColor, setDynamicPointerColor] = useState(pointerColor);\n  const [targetPointerColor, setTargetPointerColor] = useState(pointerColor);\n  const animationFrameRef = useRef(null);\n\n  // Multiple animated blobs for the mouse gradient\n  const BLOB_RADIUS_MIN = 48; // px (was 32)\n  const BLOB_RADIUS_MAX = 112; // px (was 64)\n  const BLOB_COUNT = 8;\n  const [blobs, setBlobs] = useState(() => Array.from({\n    length: BLOB_COUNT\n  }, (_, i) => ({\n    id: i,\n    angle: Math.random() * Math.PI * 2,\n    radius: BLOB_RADIUS_MIN + Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN),\n    targetAngle: Math.random() * Math.PI * 2,\n    targetRadius: BLOB_RADIUS_MIN + Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN),\n    currentColor: pointerColor,\n    // Each blob's own color\n    color: pointerColor,\n    // For backward compatibility\n    size: 0.10,\n    // 10% for all blobs\n    speed: 0.01 + Math.random() * 0.01,\n    // Slower\n    colorLerp: 0.02 + Math.random() * 0.02 // Each blob gets a lerp factor between 0.02 and 0.04\n  })));\n\n  // Swarm center inertia state\n  const [swarm, setSwarm] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Function to calculate color distance (RGB Euclidean distance)\n  const colorDistance = (color1, color2) => {\n    const rgb1 = color1.split(',').map(c => parseInt(c.trim()));\n    const rgb2 = color2.split(',').map(c => parseInt(c.trim()));\n    return Math.sqrt(Math.pow(rgb1[0] - rgb2[0], 2) + Math.pow(rgb1[1] - rgb2[1], 2) + Math.pow(rgb1[2] - rgb2[2], 2));\n  };\n\n  // Function to blend colors based on RGB values\n  const blendColors = (color1, color2, weight) => {\n    const rgb1 = color1.split(',').map(c => parseInt(c.trim()));\n    const rgb2 = color2.split(',').map(c => parseInt(c.trim()));\n    const blended = rgb1.map((c1, i) => Math.round(c1 * (1 - weight) + rgb2[i] * weight));\n    return blended.join(', ');\n  };\n\n  // Function to get smooth contrasting color based on mouse position\n  const selectContrastingColor = (mouseX, mouseY) => {\n    const colors = isDarkMode ? [\"37, 99, 235\",\n    // first\n    \"126, 34, 206\",\n    // second\n    \"6, 182, 212\",\n    // third\n    \"190, 24, 93\",\n    // fourth\n    \"21, 128, 61\" // fifth\n    ] : [firstColor, secondColor, thirdColor, fourthColor, fifthColor];\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n\n    // Normalize mouse position to 0-1 range\n    const normalizedX = mouseX / containerWidth;\n    const normalizedY = mouseY / containerHeight;\n\n    // Define gradient regions with their positions and colors\n    const regions = [{\n      x: 0.2,\n      y: 0.1,\n      color: colors[0]\n    },\n    // Top-left\n    {\n      x: 0.8,\n      y: 0.1,\n      color: colors[1]\n    },\n    // Top-right\n    {\n      x: 0.5,\n      y: 0.5,\n      color: colors[2]\n    },\n    // Center\n    {\n      x: 0.2,\n      y: 0.8,\n      color: colors[3]\n    },\n    // Bottom-left\n    {\n      x: 0.8,\n      y: 0.8,\n      color: colors[4]\n    } // Bottom-right\n    ];\n\n    // Find the closest region to determine the base contrasting color\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    regions.forEach(region => {\n      const distance = Math.sqrt(Math.pow(normalizedX - region.x, 2) + Math.pow(normalizedY - region.y, 2));\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n\n    // Find the most contrasting color to the closest region\n    let mostContrastingColor = colors[0];\n    let maxContrast = 0;\n    colors.forEach(color => {\n      const contrast = colorDistance(closestRegion.color, color);\n      if (contrast > maxContrast) {\n        maxContrast = contrast;\n        mostContrastingColor = color;\n      }\n    });\n\n    // Calculate smooth transition based on distance from closest region\n    // Use a much larger influence radius for smoother, longer transitions\n    const influenceRadius = 8.0; // 800% of screen size (very large/global reach)\n    const distanceFromClosest = Math.sqrt(Math.pow(normalizedX - closestRegion.x, 2) + Math.pow(normalizedY - closestRegion.y, 2));\n\n    // Create smooth falloff - closer to region = stronger contrasting effect\n    const influenceStrength = Math.max(0, 1 - distanceFromClosest / influenceRadius);\n\n    // Use a softer curve for the transition\n    const smoothInfluence = Math.pow(influenceStrength, 1.1);\n\n    // Blend between neutral color and contrasting color based on influence\n    const neutralColor = isDarkMode ? \"37, 99, 235\" : firstColor;\n    return blendColors(neutralColor, mostContrastingColor, smoothInfluence * 0.7);\n  };\n\n  // Function to get the background color at a given (x, y) coordinate (in px, relative to window)\n  // This is a simplified version: returns the closest region's color (could be improved for gradients)\n  const getBackgroundColorAt = (x, y) => {\n    if (!containerRef.current) return 'rgb(255,255,255)';\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    const normalizedX = x / containerWidth;\n    const normalizedY = y / containerHeight;\n    const colors = isDarkMode ? [\"37, 99, 235\", \"126, 34, 206\", \"6, 182, 212\", \"190, 24, 93\", \"21, 128, 61\"] : [firstColor, secondColor, thirdColor, fourthColor, fifthColor];\n    const regions = [{\n      x: 0.2,\n      y: 0.1,\n      color: colors[0]\n    }, {\n      x: 0.8,\n      y: 0.1,\n      color: colors[1]\n    }, {\n      x: 0.5,\n      y: 0.5,\n      color: colors[2]\n    }, {\n      x: 0.2,\n      y: 0.8,\n      color: colors[3]\n    }, {\n      x: 0.8,\n      y: 0.8,\n      color: colors[4]\n    }];\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    regions.forEach(region => {\n      const distance = Math.sqrt(Math.pow(normalizedX - region.x, 2) + Math.pow(normalizedY - region.y, 2));\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n    return `rgb(${closestRegion.color})`;\n  };\n\n  // Detect dark mode\n  useEffect(() => {\n    const checkDarkMode = () => {\n      setIsDarkMode(document.documentElement.classList.contains('dark'));\n    };\n    checkDarkMode();\n    const observer = new MutationObserver(checkDarkMode);\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['class']\n    });\n    return () => observer.disconnect();\n  }, []);\n\n  // Set colors based on theme\n  useEffect(() => {\n    const colors = isDarkMode ? {\n      bgStart: \"rgb(15, 23, 42)\",\n      bgEnd: \"rgb(2, 6, 23)\",\n      first: \"37, 99, 235\",\n      second: \"126, 34, 206\",\n      third: \"6, 182, 212\",\n      fourth: \"190, 24, 93\",\n      fifth: \"21, 128, 61\",\n      pointer: \"37, 99, 235\"\n    } : {\n      bgStart: gradientBackgroundStart,\n      bgEnd: gradientBackgroundEnd,\n      first: firstColor,\n      second: secondColor,\n      third: thirdColor,\n      fourth: fourthColor,\n      fifth: fifthColor,\n      pointer: pointerColor\n    };\n    document.body.style.setProperty(\"--gradient-background-start\", colors.bgStart);\n    document.body.style.setProperty(\"--gradient-background-end\", colors.bgEnd);\n    document.body.style.setProperty(\"--first-color\", colors.first);\n    document.body.style.setProperty(\"--second-color\", colors.second);\n    document.body.style.setProperty(\"--third-color\", colors.third);\n    document.body.style.setProperty(\"--fourth-color\", colors.fourth);\n    document.body.style.setProperty(\"--fifth-color\", colors.fifth);\n    document.body.style.setProperty(\"--pointer-color\", colors.pointer);\n    document.body.style.setProperty(\"--size\", size);\n    document.body.style.setProperty(\"--blending-value\", blendingValue);\n  }, [isDarkMode, gradientBackgroundStart, gradientBackgroundEnd, firstColor, secondColor, thirdColor, fourthColor, fifthColor, pointerColor, size, blendingValue]);\n\n  // Animation loop for smooth mouse tracking (fixes infinite loop)\n  useEffect(() => {\n    let running = true;\n    function animate() {\n      setCurX(prev => prev + (tgX - prev) / 20);\n      setCurY(prev => prev + (tgY - prev) / 20);\n      if (running) requestAnimationFrame(animate);\n    }\n    animate();\n    return () => {\n      running = false;\n    };\n  }, [tgX, tgY]);\n\n  // Helper: parse rgb string to array\n  const parseRGB = color => {\n    return color.split(',').map(c => parseInt(c.trim(), 10));\n  };\n  // Helper: rgb array to string\n  const rgbToString = rgb => `${rgb[0]}, ${rgb[1]}, ${rgb[2]}`;\n  // Helper: lerp between two rgb arrays\n  const lerpColors = (from, to, t) => {\n    return [Math.round(from[0] + (to[0] - from[0]) * t), Math.round(from[1] + (to[1] - from[1]) * t), Math.round(from[2] + (to[2] - from[2]) * t)];\n  };\n\n  // Animation loop for smooth color interpolation\n  useEffect(() => {\n    let running = true;\n    function animate() {\n      setDynamicPointerColor(prev => {\n        const from = parseRGB(prev);\n        const to = parseRGB(targetPointerColor);\n        if (from.every((v, i) => Math.abs(v - to[i]) < 2)) {\n          return rgbToString(to);\n        }\n        const lerped = lerpColors(from, to, 0.01); // Slower, smoother\n        return rgbToString(lerped);\n      });\n\n      // Swarm inertia parameters\n      setSwarm(prev => {\n        return {\n          x: tgX,\n          y: tgY\n        };\n      });\n\n      // Animate blob positions (no inertia, just orbit around swarm center)\n      setBlobs(prevBlobs => prevBlobs.map(blob => {\n        // Lerp angle and radius\n        let newAngle = blob.angle + (blob.targetAngle - blob.angle) * blob.speed;\n        let newRadius = blob.radius + (blob.targetRadius - blob.radius) * blob.speed;\n        // Lerp color toward its own color-aware target\n        // Calculate the blob's current screen position\n        const blobX = swarm.x + Math.cos(blob.angle) * blob.radius;\n        const blobY = swarm.y + Math.sin(blob.angle) * blob.radius;\n        // Use selectContrastingColor with the blob's position\n        const blobTargetColor = selectContrastingColor(blobX, blobY);\n        const from = parseRGB(blob.currentColor);\n        const to = parseRGB(blobTargetColor);\n        const lerpedColor = lerpColors(from, to, blob.colorLerp); // Each blob has its own color transition speed\n        // If close to target, pick new random target\n        if (Math.abs(newAngle - blob.targetAngle) < 0.05 && Math.abs(newRadius - blob.targetRadius) < 2) {\n          // Find the nearest actual background gradient blob position\n          const bgBlobs = [{\n            x: 0.05,\n            y: 0.05\n          },\n          // top-[5%] left-[5%]\n          {\n            x: 0.05,\n            y: 0.95\n          },\n          // top-[5%] right-[5%]\n          {\n            x: 0.95,\n            y: 0.05\n          },\n          // bottom-[5%] left-[5%]\n          {\n            x: 0.95,\n            y: 0.95\n          },\n          // bottom-[5%] right-[5%]\n          {\n            x: 0.5,\n            y: 0.5\n          },\n          // top-[50%] left-[50%]\n          {\n            x: 0.02,\n            y: 0.10\n          },\n          // top-[2%] left-[10%]\n          {\n            x: 0.01,\n            y: 0.85\n          },\n          // top-[1%] right-[15%]\n          {\n            x: 0.03,\n            y: 0.50\n          },\n          // top-[3%] left-[50%]\n          {\n            x: 0.00,\n            y: 0.30\n          },\n          // top-[0%] left-[30%]\n          {\n            x: 0.98,\n            y: 0.10\n          },\n          // bottom-[2%] left-[10%]\n          {\n            x: 0.99,\n            y: 0.85\n          },\n          // bottom-[1%] right-[15%]\n          {\n            x: 0.97,\n            y: 0.50\n          },\n          // bottom-[3%] left-[50%]\n          {\n            x: 1.00,\n            y: 0.30\n          },\n          // bottom-[0%] left-[30%]\n          {\n            x: 0.40,\n            y: 0.05\n          },\n          // top-[40%] left-[5%]\n          {\n            x: 0.35,\n            y: 0.95\n          } // top-[35%] right-[5%]\n          ];\n          const containerWidth = window.innerWidth;\n          const containerHeight = window.innerHeight;\n          const swarmNormX = swarm.x / containerWidth;\n          const swarmNormY = swarm.y / containerHeight;\n          let nearestBlob = bgBlobs[0];\n          let minDist = Infinity;\n          for (const blobPos of bgBlobs) {\n            const dist = Math.hypot(blobPos.x - swarmNormX, blobPos.y - swarmNormY);\n            if (dist < minDist) {\n              minDist = dist;\n              nearestBlob = blobPos;\n            }\n          }\n          // Angle from swarm center to nearest background blob\n          const dx = nearestBlob.x * containerWidth - swarm.x;\n          const dy = nearestBlob.y * containerHeight - swarm.y;\n          const blobAngle = Math.atan2(dy, dx);\n          // Pick a random angle, then bias it toward blobAngle\n          let randomAngle = Math.random() * Math.PI * 2;\n          // Bias strength depends on distance: closer = stronger bias, farther = weaker bias\n          // Use a smoothstep curve for bias: bias = max(0.15, min(0.5, 0.5 - minDist * 0.4))\n          // (so bias is 0.5 when on top of blob, 0.15 when far away)\n          let bias = 0.5 - Math.min(minDist, 1) * 0.4;\n          bias = Math.max(0.15, Math.min(0.5, bias));\n          let biasedAngle = randomAngle * (1 - bias) + blobAngle * bias;\n          // Normalize angle to [0, 2PI]\n          if (biasedAngle < 0) biasedAngle += Math.PI * 2;\n          if (biasedAngle > Math.PI * 2) biasedAngle -= Math.PI * 2;\n          newAngle = blob.angle;\n          newRadius = blob.radius;\n          // Allow the radius to exceed the max by up to 40% when bias is strong\n          newRadius = BLOB_RADIUS_MIN + Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN) + BLOB_RADIUS_MAX * 0.4 * (bias - 0.15) / (0.5 - 0.15);\n          return {\n            ...blob,\n            targetAngle: biasedAngle,\n            targetRadius: newRadius,\n            angle: newAngle,\n            radius: newRadius,\n            currentColor: rgbToString(lerpedColor),\n            color: rgbToString(lerpedColor)\n          };\n        }\n        return {\n          ...blob,\n          angle: newAngle,\n          radius: newRadius,\n          currentColor: rgbToString(lerpedColor),\n          color: rgbToString(lerpedColor)\n        };\n      }));\n      if (running) {\n        animationFrameRef.current = requestAnimationFrame(animate);\n      }\n    }\n    animationFrameRef.current = requestAnimationFrame(animate);\n    return () => {\n      running = false;\n      if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, [targetPointerColor, tgX, tgY]);\n\n  // Global mousemove handler for robust tracking\n  useEffect(() => {\n    function handleMouseMove(event) {\n      if (!containerRef.current) return;\n      const rect = containerRef.current.getBoundingClientRect();\n      const relativeX = event.clientX - rect.left;\n      const relativeY = event.clientY - rect.top;\n      setTgX(relativeX);\n      setTgY(relativeY);\n      // Update target color only\n      const contrastingColor = selectContrastingColor(relativeX, relativeY);\n      setTargetPointerColor(contrastingColor);\n    }\n    if (interactive) {\n      window.addEventListener('mousemove', handleMouseMove);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [interactive]);\n  const [isSafari, setIsSafari] = useState(false);\n  useEffect(() => {\n    setIsSafari(/^((?!chrome|android).)*safari/i.test(navigator.userAgent));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: cn(\"h-full w-full relative overflow-hidden top-0 left-0 bg-[linear-gradient(40deg,var(--gradient-background-start),var(--gradient-background-end))]\", containerClassName),\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"defs\", {\n        children: /*#__PURE__*/_jsxDEV(\"filter\", {\n          id: \"blurMe\",\n          children: [/*#__PURE__*/_jsxDEV(\"feGaussianBlur\", {\n            in: \"SourceGraphic\",\n            stdDeviation: \"10\",\n            result: \"blur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"feColorMatrix\", {\n            in: \"blur\",\n            mode: \"matrix\",\n            values: \"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8\",\n            result: \"goo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"feBlend\", {\n            in: \"SourceGraphic\",\n            in2: \"goo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"gradients-container h-full w-full blur-lg\", isSafari ? \"blur-2xl\" : \"[filter:url(#blurMe)_blur(40px)]\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_var(--first-color)_0,_var(--first-color)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[5%] left-[5%] [transform-origin:top_left] animate-first opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--second-color),_0.8)_0,_rgba(var(--second-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[5%] right-[5%] [transform-origin:top_right] animate-second opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[5%] left-[5%] [transform-origin:bottom_left] animate-third opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[5%] right-[5%] [transform-origin:bottom_right] animate-fourth opacity-70\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.8)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[50%] left-[50%] [transform-origin:center_center] animate-fifth opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.8)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[2%] left-[10%] [transform-origin:top_left] animate-first opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--second-color),_0.8)_0,_rgba(var(--second-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[1%] right-[15%] [transform-origin:top_right] animate-second opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[3%] left-[50%] [transform-origin:top_center] animate-third opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[0%] left-[30%] [transform-origin:top_left] animate-fourth opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[2%] left-[10%] [transform-origin:bottom_left] animate-third opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[1%] right-[15%] [transform-origin:bottom_right] animate-fourth opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.8)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[3%] left-[50%] [transform-origin:bottom_center] animate-fifth opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.8)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[0%] left-[30%] [transform-origin:bottom_left] animate-first opacity-100\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.5)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[40%] left-[5%] [transform-origin:left_center] animate-fifth opacity-70\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.5)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[35%] right-[5%] [transform-origin:right_center] animate-first opacity-70\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this), interactive && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: blobs.map(blob => {\n          // Calculate offset from swarm center using polar coordinates\n          const offsetX = Math.cos(blob.angle) * blob.radius;\n          const offsetY = Math.sin(blob.angle) * blob.radius;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: `radial-gradient(circle at center, rgba(${blob.currentColor}, 0.6) 0%, rgba(${blob.currentColor}, 0.4) 30%, rgba(${blob.currentColor}, 0) 100%)`,\n              mixBlendMode: blendingValue,\n              position: 'absolute',\n              width: `${blob.size * 100}%`,\n              height: `${blob.size * 100}%`,\n              top: `calc(${swarm.y + offsetY}px - ${blob.size * 50}%)`,\n              left: `calc(${swarm.x + offsetX}px - ${blob.size * 50}%)`,\n              opacity: 0.8,\n              pointerEvents: 'none',\n              transition: 'none',\n              filter: 'blur(48px)'\n            }\n          }, blob.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 495,\n    columnNumber: 5\n  }, this);\n};\n_s2(BackgroundGradientAnimation, \"oei2FIagxc/5sPbM3tMs6xGPgI4=\");\n_c2 = BackgroundGradientAnimation;\nvar _c, _c2;\n$RefreshReg$(_c, \"BackgroundColorProvider\");\n$RefreshReg$(_c2, \"BackgroundGradientAnimation\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","_s2","useEffect","useRef","useState","createContext","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","BackgroundColorContext","undefined","BackgroundColorProvider","containerRef","children","isDarkMode","setIsDarkMode","checkDark","document","documentElement","classList","contains","observer","MutationObserver","observe","attributes","attributeFilter","disconnect","getBackgroundColorAt","x","y","current","rect","getBoundingClientRect","normalizedX","left","width","normalizedY","top","height","colors","regions","color","closestRegion","minDistance","Infinity","forEach","region","distance","Math","sqrt","pow","Provider","value","fileName","lineNumber","columnNumber","_c","BackgroundGradientAnimation","gradientBackgroundStart","gradientBackgroundEnd","firstColor","secondColor","thirdColor","fourthColor","fifthColor","pointerColor","size","blendingValue","className","interactive","containerClassName","curX","setCurX","curY","setCurY","tgX","setTgX","tgY","setTgY","dynamicPointerColor","setDynamicPointerColor","targetPointerColor","setTargetPointerColor","animationFrameRef","BLOB_RADIUS_MIN","BLOB_RADIUS_MAX","BLOB_COUNT","blobs","setBlobs","Array","from","length","_","i","id","angle","random","PI","radius","targetAngle","targetRadius","currentColor","speed","colorLerp","swarm","setSwarm","colorDistance","color1","color2","rgb1","split","map","c","parseInt","trim","rgb2","blendColors","weight","blended","c1","round","join","selectContrastingColor","mouseX","mouseY","containerWidth","window","innerWidth","containerHeight","innerHeight","mostContrastingColor","maxContrast","contrast","influenceRadius","distanceFromClosest","influenceStrength","max","smoothInfluence","neutralColor","checkDarkMode","bgStart","bgEnd","first","second","third","fourth","fifth","pointer","body","style","setProperty","running","animate","prev","requestAnimationFrame","parseRGB","rgbToString","rgb","lerpColors","to","t","every","v","abs","lerped","prevBlobs","blob","newAngle","newRadius","blobX","cos","blobY","sin","blobTargetColor","lerpedColor","bgBlobs","swarmNormX","swarmNormY","nearestBlob","minDist","blobPos","dist","hypot","dx","dy","blobAngle","atan2","randomAngle","bias","min","biasedAngle","cancelAnimationFrame","handleMouseMove","event","relativeX","clientX","relativeY","clientY","contrastingColor","addEventListener","removeEventListener","isSafari","setIsSafari","test","navigator","userAgent","ref","in","stdDeviation","result","mode","values","in2","offsetX","offsetY","background","mixBlendMode","position","opacity","pointerEvents","transition","filter","_c2","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Portfolio/src/ui/background-gradient-animation.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useRef, useState, createContext, ReactNode } from \"react\";\nimport { cn } from \"../lib/utils\";\n\n// Context for background color sampling\nexport const BackgroundColorContext = createContext<{ getBackgroundColorAt: (x: number, y: number) => string } | undefined>(undefined);\n\n// Provider that takes a ref to the background container and provides color sampling\nexport const BackgroundColorProvider = ({ containerRef, children }: { containerRef: React.RefObject<HTMLElement>, children: ReactNode }) => {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  useEffect(() => {\n    const checkDark = () => setIsDarkMode(document.documentElement.classList.contains('dark'));\n    checkDark();\n    const observer = new MutationObserver(checkDark);\n    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\n    return () => observer.disconnect();\n  }, []);\n  // Color sampling function using the container's bounding rect\n  const getBackgroundColorAt = (x: number, y: number) => {\n    if (!containerRef.current) return undefined;\n    const rect = containerRef.current.getBoundingClientRect();\n    const normalizedX = (x - rect.left) / rect.width;\n    const normalizedY = (y - rect.top) / rect.height;\n    const colors = isDarkMode ? [\n      \"37, 99, 235\",\n      \"126, 34, 206\",\n      \"6, 182, 212\",\n      \"190, 24, 93\",\n      \"21, 128, 61\"\n    ] : [\n      \"18, 113, 255\",\n      \"221, 74, 255\",\n      \"100, 220, 255\",\n      \"200, 50, 50\",\n      \"180, 180, 50\"\n    ];\n    const regions = [\n      { x: 0.2, y: 0.1, color: colors[0] },\n      { x: 0.8, y: 0.1, color: colors[1] },\n      { x: 0.5, y: 0.5, color: colors[2] },\n      { x: 0.2, y: 0.8, color: colors[3] },\n      { x: 0.8, y: 0.8, color: colors[4] },\n    ];\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    regions.forEach(region => {\n      const distance = Math.sqrt(\n        Math.pow(normalizedX - region.x, 2) +\n        Math.pow(normalizedY - region.y, 2)\n      );\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n    return `rgb(${closestRegion.color})`;\n  };\n  return (\n    <BackgroundColorContext.Provider value={{ getBackgroundColorAt }}>\n      {children}\n    </BackgroundColorContext.Provider>\n  );\n};\n\nexport const BackgroundGradientAnimation = ({\n  gradientBackgroundStart = \"rgb(108, 0, 162)\",\n  gradientBackgroundEnd = \"rgb(0, 17, 82)\",\n  firstColor = \"18, 113, 255\",\n  secondColor = \"221, 74, 255\",\n  thirdColor = \"100, 220, 255\",\n  fourthColor = \"200, 50, 50\",\n  fifthColor = \"180, 180, 50\",\n  pointerColor = \"140, 100, 255\",\n  size = \"80%\",\n  blendingValue = \"hard-light\",\n  children,\n  className,\n  interactive = true,\n  containerClassName,\n}: {\n  gradientBackgroundStart?: string;\n  gradientBackgroundEnd?: string;\n  firstColor?: string;\n  secondColor?: string;\n  thirdColor?: string;\n  fourthColor?: string;\n  fifthColor?: string;\n  pointerColor?: string;\n  size?: string;\n  blendingValue?: string;\n  children?: React.ReactNode;\n  className?: string;\n  interactive?: boolean;\n  containerClassName?: string;\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [curX, setCurX] = useState(0);\n  const [curY, setCurY] = useState(0);\n  const [tgX, setTgX] = useState(0);\n  const [tgY, setTgY] = useState(0);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [dynamicPointerColor, setDynamicPointerColor] = useState(pointerColor);\n  const [targetPointerColor, setTargetPointerColor] = useState(pointerColor);\n  const animationFrameRef = useRef<number | null>(null);\n\n  // Multiple animated blobs for the mouse gradient\n  const BLOB_RADIUS_MIN = 48; // px (was 32)\n  const BLOB_RADIUS_MAX = 112; // px (was 64)\n  const BLOB_COUNT = 8;\n  const [blobs, setBlobs] = useState(() => \n    Array.from({ length: BLOB_COUNT }, (_, i) => ({\n      id: i,\n      angle: Math.random() * Math.PI * 2,\n      radius: BLOB_RADIUS_MIN + Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN),\n      targetAngle: Math.random() * Math.PI * 2,\n      targetRadius: BLOB_RADIUS_MIN + Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN),\n      currentColor: pointerColor, // Each blob's own color\n      color: pointerColor, // For backward compatibility\n      size: 0.10, // 10% for all blobs\n      speed: 0.01 + Math.random() * 0.01, // Slower\n      colorLerp: 0.02 + Math.random() * 0.02, // Each blob gets a lerp factor between 0.02 and 0.04\n    }))\n  );\n\n  // Swarm center inertia state\n  const [swarm, setSwarm] = useState({\n    x: 0,\n    y: 0,\n  });\n\n  // Function to calculate color distance (RGB Euclidean distance)\n  const colorDistance = (color1: string, color2: string): number => {\n    const rgb1 = color1.split(',').map(c => parseInt(c.trim()));\n    const rgb2 = color2.split(',').map(c => parseInt(c.trim()));\n    return Math.sqrt(\n      Math.pow(rgb1[0] - rgb2[0], 2) + \n      Math.pow(rgb1[1] - rgb2[1], 2) + \n      Math.pow(rgb1[2] - rgb2[2], 2)\n    );\n  };\n\n  // Function to blend colors based on RGB values\n  const blendColors = (color1: string, color2: string, weight: number): string => {\n    const rgb1 = color1.split(',').map(c => parseInt(c.trim()));\n    const rgb2 = color2.split(',').map(c => parseInt(c.trim()));\n    \n    const blended = rgb1.map((c1, i) => \n      Math.round(c1 * (1 - weight) + rgb2[i] * weight)\n    );\n    \n    return blended.join(', ');\n  };\n\n  // Function to get smooth contrasting color based on mouse position\n  const selectContrastingColor = (mouseX: number, mouseY: number) => {\n    const colors = isDarkMode ? [\n      \"37, 99, 235\",   // first\n      \"126, 34, 206\",  // second\n      \"6, 182, 212\",   // third\n      \"190, 24, 93\",   // fourth\n      \"21, 128, 61\"    // fifth\n    ] : [\n      firstColor,\n      secondColor,\n      thirdColor,\n      fourthColor,\n      fifthColor\n    ];\n\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    \n    // Normalize mouse position to 0-1 range\n    const normalizedX = mouseX / containerWidth;\n    const normalizedY = mouseY / containerHeight;\n    \n    // Define gradient regions with their positions and colors\n    const regions = [\n      { x: 0.2, y: 0.1, color: colors[0] },      // Top-left\n      { x: 0.8, y: 0.1, color: colors[1] },      // Top-right\n      { x: 0.5, y: 0.5, color: colors[2] },      // Center\n      { x: 0.2, y: 0.8, color: colors[3] },      // Bottom-left\n      { x: 0.8, y: 0.8, color: colors[4] },      // Bottom-right\n    ];\n\n    // Find the closest region to determine the base contrasting color\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    \n    regions.forEach(region => {\n      const distance = Math.sqrt(\n        Math.pow(normalizedX - region.x, 2) + \n        Math.pow(normalizedY - region.y, 2)\n      );\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n\n    // Find the most contrasting color to the closest region\n    let mostContrastingColor = colors[0];\n    let maxContrast = 0;\n\n    colors.forEach(color => {\n      const contrast = colorDistance(closestRegion.color, color);\n      if (contrast > maxContrast) {\n        maxContrast = contrast;\n        mostContrastingColor = color;\n      }\n    });\n\n    // Calculate smooth transition based on distance from closest region\n    // Use a much larger influence radius for smoother, longer transitions\n    const influenceRadius = 8.0; // 800% of screen size (very large/global reach)\n    const distanceFromClosest = Math.sqrt(\n      Math.pow(normalizedX - closestRegion.x, 2) + \n      Math.pow(normalizedY - closestRegion.y, 2)\n    );\n    \n    // Create smooth falloff - closer to region = stronger contrasting effect\n    const influenceStrength = Math.max(0, 1 - (distanceFromClosest / influenceRadius));\n    \n    // Use a softer curve for the transition\n    const smoothInfluence = Math.pow(influenceStrength, 1.1);\n    \n    // Blend between neutral color and contrasting color based on influence\n    const neutralColor = isDarkMode ? \"37, 99, 235\" : firstColor;\n    return blendColors(neutralColor, mostContrastingColor, smoothInfluence * 0.7);\n  };\n\n  // Function to get the background color at a given (x, y) coordinate (in px, relative to window)\n  // This is a simplified version: returns the closest region's color (could be improved for gradients)\n  const getBackgroundColorAt = (x: number, y: number) => {\n    if (!containerRef.current) return 'rgb(255,255,255)';\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    const normalizedX = x / containerWidth;\n    const normalizedY = y / containerHeight;\n    const colors = isDarkMode ? [\n      \"37, 99, 235\",\n      \"126, 34, 206\",\n      \"6, 182, 212\",\n      \"190, 24, 93\",\n      \"21, 128, 61\"\n    ] : [\n      firstColor,\n      secondColor,\n      thirdColor,\n      fourthColor,\n      fifthColor\n    ];\n    const regions = [\n      { x: 0.2, y: 0.1, color: colors[0] },\n      { x: 0.8, y: 0.1, color: colors[1] },\n      { x: 0.5, y: 0.5, color: colors[2] },\n      { x: 0.2, y: 0.8, color: colors[3] },\n      { x: 0.8, y: 0.8, color: colors[4] },\n    ];\n    let closestRegion = regions[0];\n    let minDistance = Infinity;\n    regions.forEach(region => {\n      const distance = Math.sqrt(\n        Math.pow(normalizedX - region.x, 2) +\n        Math.pow(normalizedY - region.y, 2)\n      );\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestRegion = region;\n      }\n    });\n    return `rgb(${closestRegion.color})`;\n  };\n\n  // Detect dark mode\n  useEffect(() => {\n    const checkDarkMode = () => {\n      setIsDarkMode(document.documentElement.classList.contains('dark'));\n    };\n    \n    checkDarkMode();\n    const observer = new MutationObserver(checkDarkMode);\n    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\n    \n    return () => observer.disconnect();\n  }, []);\n\n  // Set colors based on theme\n  useEffect(() => {\n    const colors = isDarkMode ? {\n      bgStart: \"rgb(15, 23, 42)\",\n      bgEnd: \"rgb(2, 6, 23)\",\n      first: \"37, 99, 235\",\n      second: \"126, 34, 206\",\n      third: \"6, 182, 212\",\n      fourth: \"190, 24, 93\",\n      fifth: \"21, 128, 61\",\n      pointer: \"37, 99, 235\"\n    } : {\n      bgStart: gradientBackgroundStart,\n      bgEnd: gradientBackgroundEnd,\n      first: firstColor,\n      second: secondColor,\n      third: thirdColor,\n      fourth: fourthColor,\n      fifth: fifthColor,\n      pointer: pointerColor\n    };\n\n    document.body.style.setProperty(\"--gradient-background-start\", colors.bgStart);\n    document.body.style.setProperty(\"--gradient-background-end\", colors.bgEnd);\n    document.body.style.setProperty(\"--first-color\", colors.first);\n    document.body.style.setProperty(\"--second-color\", colors.second);\n    document.body.style.setProperty(\"--third-color\", colors.third);\n    document.body.style.setProperty(\"--fourth-color\", colors.fourth);\n    document.body.style.setProperty(\"--fifth-color\", colors.fifth);\n    document.body.style.setProperty(\"--pointer-color\", colors.pointer);\n    document.body.style.setProperty(\"--size\", size);\n    document.body.style.setProperty(\"--blending-value\", blendingValue);\n  }, [isDarkMode, gradientBackgroundStart, gradientBackgroundEnd, firstColor, secondColor, thirdColor, fourthColor, fifthColor, pointerColor, size, blendingValue]);\n\n  // Animation loop for smooth mouse tracking (fixes infinite loop)\n  useEffect(() => {\n    let running = true;\n    function animate() {\n      setCurX(prev => prev + (tgX - prev) / 20);\n      setCurY(prev => prev + (tgY - prev) / 20);\n      if (running) requestAnimationFrame(animate);\n    }\n    animate();\n    return () => { running = false; };\n  }, [tgX, tgY]);\n\n  // Helper: parse rgb string to array\n  const parseRGB = (color: string): [number, number, number] => {\n    return color.split(',').map(c => parseInt(c.trim(), 10)) as [number, number, number];\n  };\n  // Helper: rgb array to string\n  const rgbToString = (rgb: [number, number, number]) => `${rgb[0]}, ${rgb[1]}, ${rgb[2]}`;\n  // Helper: lerp between two rgb arrays\n  const lerpColors = (from: [number, number, number], to: [number, number, number], t: number): [number, number, number] => {\n    return [\n      Math.round(from[0] + (to[0] - from[0]) * t),\n      Math.round(from[1] + (to[1] - from[1]) * t),\n      Math.round(from[2] + (to[2] - from[2]) * t),\n    ];\n  };\n\n  // Animation loop for smooth color interpolation\n  useEffect(() => {\n    let running = true;\n    function animate() {\n      setDynamicPointerColor(prev => {\n        const from = parseRGB(prev);\n        const to = parseRGB(targetPointerColor);\n        if (from.every((v, i) => Math.abs(v - to[i]) < 2)) {\n          return rgbToString(to);\n        }\n        const lerped = lerpColors(from, to, 0.01); // Slower, smoother\n        return rgbToString(lerped);\n      });\n\n      // Swarm inertia parameters\n      setSwarm(prev => {\n        return { x: tgX, y: tgY };\n      });\n\n      // Animate blob positions (no inertia, just orbit around swarm center)\n      setBlobs(prevBlobs =>\n        prevBlobs.map(blob => {\n          // Lerp angle and radius\n          let newAngle = blob.angle + (blob.targetAngle - blob.angle) * blob.speed;\n          let newRadius = blob.radius + (blob.targetRadius - blob.radius) * blob.speed;\n          // Lerp color toward its own color-aware target\n          // Calculate the blob's current screen position\n          const blobX = swarm.x + Math.cos(blob.angle) * blob.radius;\n          const blobY = swarm.y + Math.sin(blob.angle) * blob.radius;\n          // Use selectContrastingColor with the blob's position\n          const blobTargetColor = selectContrastingColor(blobX, blobY);\n          const from = parseRGB(blob.currentColor);\n          const to = parseRGB(blobTargetColor);\n          const lerpedColor = lerpColors(from, to, blob.colorLerp); // Each blob has its own color transition speed\n          // If close to target, pick new random target\n          if (Math.abs(newAngle - blob.targetAngle) < 0.05 && Math.abs(newRadius - blob.targetRadius) < 2) {\n            // Find the nearest actual background gradient blob position\n            const bgBlobs = [\n              { x: 0.05, y: 0.05 }, // top-[5%] left-[5%]\n              { x: 0.05, y: 0.95 }, // top-[5%] right-[5%]\n              { x: 0.95, y: 0.05 }, // bottom-[5%] left-[5%]\n              { x: 0.95, y: 0.95 }, // bottom-[5%] right-[5%]\n              { x: 0.5, y: 0.5 },   // top-[50%] left-[50%]\n              { x: 0.02, y: 0.10 }, // top-[2%] left-[10%]\n              { x: 0.01, y: 0.85 }, // top-[1%] right-[15%]\n              { x: 0.03, y: 0.50 }, // top-[3%] left-[50%]\n              { x: 0.00, y: 0.30 }, // top-[0%] left-[30%]\n              { x: 0.98, y: 0.10 }, // bottom-[2%] left-[10%]\n              { x: 0.99, y: 0.85 }, // bottom-[1%] right-[15%]\n              { x: 0.97, y: 0.50 }, // bottom-[3%] left-[50%]\n              { x: 1.00, y: 0.30 }, // bottom-[0%] left-[30%]\n              { x: 0.40, y: 0.05 }, // top-[40%] left-[5%]\n              { x: 0.35, y: 0.95 }, // top-[35%] right-[5%]\n            ];\n            const containerWidth = window.innerWidth;\n            const containerHeight = window.innerHeight;\n            const swarmNormX = swarm.x / containerWidth;\n            const swarmNormY = swarm.y / containerHeight;\n            let nearestBlob = bgBlobs[0];\n            let minDist = Infinity;\n            for (const blobPos of bgBlobs) {\n              const dist = Math.hypot(blobPos.x - swarmNormX, blobPos.y - swarmNormY);\n              if (dist < minDist) {\n                minDist = dist;\n                nearestBlob = blobPos;\n              }\n            }\n            // Angle from swarm center to nearest background blob\n            const dx = (nearestBlob.x * containerWidth) - swarm.x;\n            const dy = (nearestBlob.y * containerHeight) - swarm.y;\n            const blobAngle = Math.atan2(dy, dx);\n            // Pick a random angle, then bias it toward blobAngle\n            let randomAngle = Math.random() * Math.PI * 2;\n            // Bias strength depends on distance: closer = stronger bias, farther = weaker bias\n            // Use a smoothstep curve for bias: bias = max(0.15, min(0.5, 0.5 - minDist * 0.4))\n            // (so bias is 0.5 when on top of blob, 0.15 when far away)\n            let bias = 0.5 - Math.min(minDist, 1) * 0.4;\n            bias = Math.max(0.15, Math.min(0.5, bias));\n            let biasedAngle = randomAngle * (1 - bias) + blobAngle * bias;\n            // Normalize angle to [0, 2PI]\n            if (biasedAngle < 0) biasedAngle += Math.PI * 2;\n            if (biasedAngle > Math.PI * 2) biasedAngle -= Math.PI * 2;\n            newAngle = blob.angle;\n            newRadius = blob.radius;\n            // Allow the radius to exceed the max by up to 40% when bias is strong\n            newRadius =\n              BLOB_RADIUS_MIN +\n              Math.random() * (BLOB_RADIUS_MAX - BLOB_RADIUS_MIN) +\n              (BLOB_RADIUS_MAX * 0.4 * (bias - 0.15) / (0.5 - 0.15));\n            return {\n              ...blob,\n              targetAngle: biasedAngle,\n              targetRadius: newRadius,\n              angle: newAngle,\n              radius: newRadius,\n              currentColor: rgbToString(lerpedColor),\n              color: rgbToString(lerpedColor),\n            };\n          }\n          return {\n            ...blob,\n            angle: newAngle,\n            radius: newRadius,\n            currentColor: rgbToString(lerpedColor),\n            color: rgbToString(lerpedColor),\n          };\n        })\n      );\n      if (running) {\n        animationFrameRef.current = requestAnimationFrame(animate);\n      }\n    }\n    animationFrameRef.current = requestAnimationFrame(animate);\n    return () => {\n      running = false;\n      if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, [targetPointerColor, tgX, tgY]);\n\n  // Global mousemove handler for robust tracking\n  useEffect(() => {\n    function handleMouseMove(event: MouseEvent) {\n      if (!containerRef.current) return;\n      const rect = containerRef.current.getBoundingClientRect();\n      const relativeX = event.clientX - rect.left;\n      const relativeY = event.clientY - rect.top;\n      setTgX(relativeX);\n      setTgY(relativeY);\n      // Update target color only\n      const contrastingColor = selectContrastingColor(relativeX, relativeY);\n      setTargetPointerColor(contrastingColor);\n    }\n    if (interactive) {\n      window.addEventListener('mousemove', handleMouseMove);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [interactive]);\n\n  const [isSafari, setIsSafari] = useState(false);\n  useEffect(() => {\n    setIsSafari(/^((?!chrome|android).)*safari/i.test(navigator.userAgent));\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn(\n        \"h-full w-full relative overflow-hidden top-0 left-0 bg-[linear-gradient(40deg,var(--gradient-background-start),var(--gradient-background-end))]\",\n        containerClassName\n      )}\n    >\n        <svg className=\"hidden\">\n          <defs>\n            <filter id=\"blurMe\">\n              <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"10\" result=\"blur\" />\n              <feColorMatrix\n                in=\"blur\"\n                mode=\"matrix\"\n                values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8\"\n                result=\"goo\"\n              />\n              <feBlend in=\"SourceGraphic\" in2=\"goo\" />\n            </filter>\n          </defs>\n        </svg>\n        <div className={className}>{children}</div>\n        <div\n          className={cn(\n            \"gradients-container h-full w-full blur-lg\",\n            isSafari ? \"blur-2xl\" : \"[filter:url(#blurMe)_blur(40px)]\"\n          )}\n        >\n          {/* Evenly distributed background blobs: corners, edges, center */}\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_var(--first-color)_0,_var(--first-color)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[5%] left-[5%] [transform-origin:top_left] animate-first opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--second-color),_0.8)_0,_rgba(var(--second-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[5%] right-[5%] [transform-origin:top_right] animate-second opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[5%] left-[5%] [transform-origin:bottom_left] animate-third opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[5%] right-[5%] [transform-origin:bottom_right] animate-fourth opacity-70\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.8)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[50%] left-[50%] [transform-origin:center_center] animate-fifth opacity-100\"\n            )}\n          ></div>\n          {/* Additional gradients for better coverage - very top areas */}\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.8)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[2%] left-[10%] [transform-origin:top_left] animate-first opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--second-color),_0.8)_0,_rgba(var(--second-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[1%] right-[15%] [transform-origin:top_right] animate-second opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[3%] left-[50%] [transform-origin:top_center] animate-third opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[0%] left-[30%] [transform-origin:top_left] animate-fourth opacity-100\"\n            )}\n          ></div>\n          {/* Additional gradients for better coverage - very bottom areas */}\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--third-color),_0.8)_0,_rgba(var(--third-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[2%] left-[10%] [transform-origin:bottom_left] animate-third opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fourth-color),_0.8)_0,_rgba(var(--fourth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[1%] right-[15%] [transform-origin:bottom_right] animate-fourth opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.8)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[3%] left-[50%] [transform-origin:bottom_center] animate-fifth opacity-100\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.8)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] bottom-[0%] left-[30%] [transform-origin:bottom_left] animate-first opacity-100\"\n            )}\n          ></div>\n          {/* Additional gradients for better coverage - middle areas */}\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--fifth-color),_0.5)_0,_rgba(var(--fifth-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[40%] left-[5%] [transform-origin:left_center] animate-fifth opacity-70\"\n            )}\n          ></div>\n          <div\n            className={cn(\n              \"absolute [background:radial-gradient(circle_at_center,_rgba(var(--first-color),_0.5)_0,_rgba(var(--first-color),_0)_50%)_no-repeat] [mix-blend-mode:var(--blending-value)] w-[var(--size)] h-[var(--size)] top-[35%] right-[5%] [transform-origin:right_center] animate-first opacity-70\"\n            )}\n          ></div>\n          {interactive && (\n            <>\n              {blobs.map((blob) => {\n                // Calculate offset from swarm center using polar coordinates\n                const offsetX = Math.cos(blob.angle) * blob.radius;\n                const offsetY = Math.sin(blob.angle) * blob.radius;\n                return (\n                  <div\n                    key={blob.id}\n                    style={{\n                      background: `radial-gradient(circle at center, rgba(${blob.currentColor}, 0.6) 0%, rgba(${blob.currentColor}, 0.4) 30%, rgba(${blob.currentColor}, 0) 100%)`,\n                      mixBlendMode: blendingValue as any,\n                      position: 'absolute',\n                      width: `${blob.size * 100}%`,\n                      height: `${blob.size * 100}%`,\n                      top: `calc(${swarm.y + offsetY}px - ${blob.size * 50}%)`,\n                      left: `calc(${swarm.x + offsetX}px - ${blob.size * 50}%)`,\n                      opacity: 0.8,\n                      pointerEvents: 'none',\n                      transition: 'none',\n                      filter: 'blur(48px)',\n                    }}\n                  />\n                );\n              })}\n            </>\n          )}\n        </div>\n      </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}