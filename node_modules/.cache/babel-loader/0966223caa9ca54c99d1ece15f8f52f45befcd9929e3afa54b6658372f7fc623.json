{"ast":null,"code":"// --- Utilities ---\nexport function escapeMd(text) {\n  if (!text) return '';\n  return text.replace(/[<>*_`~|]/g, m => `\\\\${m}`);\n}\nexport function generateResumeMarkdown(data) {\n  var _data$hero, _data$hero2;\n  const name = escapeMd(data.contact.name);\n  const headline = escapeMd((_data$hero = data.hero) === null || _data$hero === void 0 ? void 0 : _data$hero.headline);\n  const summary = escapeMd((_data$hero2 = data.hero) === null || _data$hero2 === void 0 ? void 0 : _data$hero2.summary);\n  const address = escapeMd(data.contact.address || data.contact.location);\n  const phone = escapeMd(data.contact.phone);\n  const email = escapeMd(data.contact.email);\n  const website = escapeMd(data.contact.website);\n  const lines = [];\n  lines.push(`# ${name}`);\n  lines.push('');\n  // Two-column header simulated with table\n  lines.push('|  |  |');\n  lines.push('|---|---|');\n  lines.push(`| ${summary || ''} | ${[address, phone, email, website].filter(Boolean).join('<br/>')} |`);\n  lines.push('');\n  if (data.experience && data.experience.length) {\n    lines.push('## Employment history');\n    lines.push('');\n    for (const exp of data.experience) {\n      const title = escapeMd(exp.title);\n      const company = escapeMd(exp.company);\n      const location = escapeMd(exp.location);\n      const period = escapeMd(exp.period);\n      lines.push(`### ${title}`);\n      lines.push(`_${company}${location ? ' at ' + location : ''}_  ${period ? ' · ' + period : ''}`);\n      lines.push('');\n      for (const b of exp.bullets) {\n        lines.push(`- ${escapeMd(b)}`);\n      }\n      lines.push('');\n    }\n  }\n  if (data.education && data.education.length) {\n    lines.push('## Education');\n    lines.push('');\n    for (const ed of data.education) {\n      const degree = escapeMd(ed.degree);\n      const inst = escapeMd(ed.institution);\n      const location = escapeMd(ed.location);\n      const period = escapeMd(ed.period);\n      lines.push(`### ${degree}`);\n      lines.push(`_${inst}${location ? ' · ' + location : ''}_  ${period ? ' · ' + period : ''}`);\n      if (ed.description) {\n        lines.push('');\n        lines.push(escapeMd(ed.description));\n      }\n      lines.push('');\n    }\n  }\n  if (data.skills && data.skills.length) {\n    lines.push('## Skills');\n    lines.push('');\n    lines.push(data.skills.map(s => `\n- ${escapeMd(s)}`).join(''));\n    lines.push('');\n  }\n  return lines.join('\\n');\n}\n\n// Minimal MD -> HTML (headings, italics, list, table line breaks)\nexport function markdownToHtml(md) {\n  let html = md;\n  html = html.replace(/^### (.*)$/gm, '<h3>$1</h3>');\n  html = html.replace(/^## (.*)$/gm, '<h2>$1</h2>');\n  html = html.replace(/^# (.*)$/gm, '<h1>$1</h1>');\n  html = html.replace(/^\\- (.*)$/gm, '<li>$1</li>');\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING\n  // html = html.replace(/\\n\\n/g, '</p><p>');\n  // html = html.replace(/\\n/g, '<br/>');\n  // NEW CODE - TESTING: simpler breaks to avoid invalid <p> nesting around headings/lists\n  html = html.replace(/\\n{2,}/g, '<br/><br/>');\n  html = html.replace(/\\n/g, '<br/>');\n  // Basic tables\n  html = html.replace(/\\|\\s*\\|\\s*\\|/g, '|  |  |');\n  // Wrap lists (avoid dotAll 's' flag for older targets)\n  html = html.replace(/(<li>[\\s\\S]*<\\/li>)/g, '<ul>$1</ul>');\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING\n  // return `<p>${html}</p>`;\n  // NEW CODE - TESTING: return raw HTML body without wrapping in <p>\n  return `${html}`;\n}\nexport async function downloadResumePdf(data, opts = {}) {\n  const fileName = (opts.fileName || `${data.contact.name.replace(/\\s+/g, '_')}_Resume`).replace(/[^\\w\\-_.]/g, '');\n  const md = generateResumeMarkdown(data);\n  const htmlBody = markdownToHtml(md);\n  const page = opts.page || 'a4';\n  // NEW CODE - TESTING: Build a printable fragment (no full <html>) for html2pdf\n  const styleCss = `@page { size: ${page}; margin: 24mm; }\n  .resume-export-root { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \"Apple Color Emoji\", \"Segoe UI Emoji\"; color: #111827; }\n  .resume-export-root h1 { font-size: 28px; margin: 0 0 12px; }\n  .resume-export-root h2 { font-size: 18px; margin: 18px 0 8px; }\n  .resume-export-root h3 { font-size: 16px; margin: 10px 0 6px; }\n  .resume-export-root p { font-size: 12px; line-height: 1.55; margin: 0 0 8px; }\n  .resume-export-root ul { margin: 8px 0 12px 18px; padding: 0; }\n  .resume-export-root li { margin: 0 0 4px; font-size: 12px; }\n  .resume-export-root table { width: 100%; border-collapse: collapse; }\n  .resume-export-root td, .resume-export-root th { vertical-align: top; }`;\n\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING (full HTML document for print window)\n  const html = `<!doctype html>\n  <html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>${fileName}</title>\n    <style>${styleCss}</style>\n  </head>\n  <body><div class=\"resume-export-root\">${htmlBody}</div></body>\n  </html>`;\n  if (opts.autoDownload) {\n    // Try html2pdf from CDN when available\n    const existing = window.html2pdf;\n    const ensure = existing ? Promise.resolve(existing) : new Promise((resolve, reject) => {\n      const s = document.createElement('script');\n      s.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';\n      s.onload = () => resolve(window.html2pdf);\n      s.onerror = reject;\n      document.head.appendChild(s);\n    });\n    try {\n      const html2pdf = await ensure;\n      const container = document.createElement('div');\n      // OLD CODE - KEEP UNTIL CONFIRMED WORKING (invisible container)\n      // container.style.position = 'fixed';\n      // container.style.top = '0';\n      // container.style.left = '0';\n      // container.style.opacity = '0';\n      // container.style.pointerEvents = 'none';\n      // NEW CODE - TESTING: move off-screen but keep visible (opacity 1)\n      container.style.position = 'fixed';\n      container.style.top = '0';\n      container.style.left = '-10000px';\n      container.style.opacity = '1';\n      container.style.pointerEvents = 'none';\n      const pageWidthPx = page === 'a4' ? 794 : 816; // ~96 DPI\n      container.style.width = pageWidthPx + 'px';\n      const styleEl = document.createElement('style');\n      styleEl.textContent = styleCss;\n      const root = document.createElement('div');\n      root.className = 'resume-export-root';\n      root.innerHTML = htmlBody;\n      // Ensure a white background to avoid transparent rendering\n      root.style.backgroundColor = '#ffffff';\n      container.appendChild(styleEl);\n      container.appendChild(root);\n      document.body.appendChild(container);\n      // Allow layout to flush\n      await new Promise(r => requestAnimationFrame(() => r()));\n      await new Promise(r => setTimeout(r, 50));\n      await html2pdf().set({\n        margin: 0,\n        filename: `${fileName}.pdf`,\n        image: {\n          type: 'jpeg',\n          quality: 0.95\n        },\n        html2canvas: {\n          scale: 2,\n          useCORS: true,\n          backgroundColor: '#ffffff'\n        },\n        jsPDF: {\n          unit: 'pt',\n          format: page === 'a4' ? 'a4' : 'letter',\n          orientation: 'portrait'\n        }\n      }).from(root).save();\n      document.body.removeChild(container);\n      return;\n    } catch {/* fallback to print */}\n  }\n  const w = window.open('', '_blank');\n  if (!w) return;\n  w.document.open();\n  w.document.write(html);\n  w.document.close();\n  w.focus();\n  setTimeout(() => w.print(), 100);\n}","map":{"version":3,"names":["escapeMd","text","replace","m","generateResumeMarkdown","data","_data$hero","_data$hero2","name","contact","headline","hero","summary","address","location","phone","email","website","lines","push","filter","Boolean","join","experience","length","exp","title","company","period","b","bullets","education","ed","degree","inst","institution","description","skills","map","s","markdownToHtml","md","html","downloadResumePdf","opts","fileName","htmlBody","page","styleCss","autoDownload","existing","window","html2pdf","ensure","Promise","resolve","reject","document","createElement","src","onload","onerror","head","appendChild","container","style","position","top","left","opacity","pointerEvents","pageWidthPx","width","styleEl","textContent","root","className","innerHTML","backgroundColor","body","r","requestAnimationFrame","setTimeout","set","margin","filename","image","type","quality","html2canvas","scale","useCORS","jsPDF","unit","format","orientation","from","save","removeChild","w","open","write","close","focus","print"],"sources":["C:/Users/Admin/Desktop/Portfolio/src/lib/resume-export.ts"],"sourcesContent":["export type ContactInfo = {\r\n  name: string;\r\n  address?: string;\r\n  phone?: string;\r\n  email?: string;\r\n  website?: string;\r\n  location?: string;\r\n};\r\n\r\nexport type HeroInfo = {\r\n  headline?: string; // tagline under name\r\n  summary?: string;  // short paragraph summary\r\n};\r\n\r\nexport type ExperienceItem = {\r\n  title: string;\r\n  company: string;\r\n  location?: string;\r\n  period?: string; // e.g., \"Jul 2019 – 2024\"\r\n  bullets: string[];\r\n};\r\n\r\nexport type EducationItem = {\r\n  degree: string;\r\n  institution: string;\r\n  location?: string;\r\n  period?: string;\r\n  description?: string;\r\n};\r\n\r\nexport type ResumeData = {\r\n  contact: ContactInfo;\r\n  hero?: HeroInfo;\r\n  experience?: ExperienceItem[];\r\n  education?: EducationItem[];\r\n  skills?: string[]; // simple list\r\n};\r\n\r\nexport type ExportOptions = {\r\n  fileName?: string; // default derived from name\r\n  page?: 'letter' | 'a4';\r\n  autoDownload?: boolean; // true = use html2pdf (if available); false = open print dialog\r\n};\r\n\r\n// --- Utilities ---\r\nexport function escapeMd(text: string | undefined): string {\r\n  if (!text) return '';\r\n  return text.replace(/[<>*_`~|]/g, (m) => `\\\\${m}`);\r\n}\r\n\r\nexport function generateResumeMarkdown(data: ResumeData): string {\r\n  const name = escapeMd(data.contact.name);\r\n  const headline = escapeMd(data.hero?.headline);\r\n  const summary = escapeMd(data.hero?.summary);\r\n  const address = escapeMd(data.contact.address || data.contact.location);\r\n  const phone = escapeMd(data.contact.phone);\r\n  const email = escapeMd(data.contact.email);\r\n  const website = escapeMd(data.contact.website);\r\n\r\n  const lines: string[] = [];\r\n  lines.push(`# ${name}`);\r\n  lines.push('');\r\n  // Two-column header simulated with table\r\n  lines.push('|  |  |');\r\n  lines.push('|---|---|');\r\n  lines.push(`| ${summary || ''} | ${[address, phone, email, website].filter(Boolean).join('<br/>')} |`);\r\n  lines.push('');\r\n\r\n  if (data.experience && data.experience.length) {\r\n    lines.push('## Employment history');\r\n    lines.push('');\r\n    for (const exp of data.experience) {\r\n      const title = escapeMd(exp.title);\r\n      const company = escapeMd(exp.company);\r\n      const location = escapeMd(exp.location);\r\n      const period = escapeMd(exp.period);\r\n      lines.push(`### ${title}`);\r\n      lines.push(`_${company}${location ? ' at ' + location : ''}_  ${period ? ' · ' + period : ''}`);\r\n      lines.push('');\r\n      for (const b of exp.bullets) {\r\n        lines.push(`- ${escapeMd(b)}`);\r\n      }\r\n      lines.push('');\r\n    }\r\n  }\r\n\r\n  if (data.education && data.education.length) {\r\n    lines.push('## Education');\r\n    lines.push('');\r\n    for (const ed of data.education) {\r\n      const degree = escapeMd(ed.degree);\r\n      const inst = escapeMd(ed.institution);\r\n      const location = escapeMd(ed.location);\r\n      const period = escapeMd(ed.period);\r\n      lines.push(`### ${degree}`);\r\n      lines.push(`_${inst}${location ? ' · ' + location : ''}_  ${period ? ' · ' + period : ''}`);\r\n      if (ed.description) {\r\n        lines.push('');\r\n        lines.push(escapeMd(ed.description));\r\n      }\r\n      lines.push('');\r\n    }\r\n  }\r\n\r\n  if (data.skills && data.skills.length) {\r\n    lines.push('## Skills');\r\n    lines.push('');\r\n    lines.push(data.skills.map(s => `\r\n- ${escapeMd(s)}`).join(''));\r\n    lines.push('');\r\n  }\r\n\r\n  return lines.join('\\n');\r\n}\r\n\r\n// Minimal MD -> HTML (headings, italics, list, table line breaks)\r\nexport function markdownToHtml(md: string): string {\r\n  let html = md;\r\n  html = html.replace(/^### (.*)$/gm, '<h3>$1</h3>');\r\n  html = html.replace(/^## (.*)$/gm, '<h2>$1</h2>');\r\n  html = html.replace(/^# (.*)$/gm, '<h1>$1</h1>');\r\n  html = html.replace(/^\\- (.*)$/gm, '<li>$1</li>');\r\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING\r\n  // html = html.replace(/\\n\\n/g, '</p><p>');\r\n  // html = html.replace(/\\n/g, '<br/>');\r\n  // NEW CODE - TESTING: simpler breaks to avoid invalid <p> nesting around headings/lists\r\n  html = html.replace(/\\n{2,}/g, '<br/><br/>' );\r\n  html = html.replace(/\\n/g, '<br/>' );\r\n  // Basic tables\r\n  html = html.replace(/\\|\\s*\\|\\s*\\|/g, '|  |  |');\r\n  // Wrap lists (avoid dotAll 's' flag for older targets)\r\n  html = html.replace(/(<li>[\\s\\S]*<\\/li>)/g, '<ul>$1</ul>');\r\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING\r\n  // return `<p>${html}</p>`;\r\n  // NEW CODE - TESTING: return raw HTML body without wrapping in <p>\r\n  return `${html}`;\r\n}\r\n\r\nexport async function downloadResumePdf(data: ResumeData, opts: ExportOptions = {}): Promise<void> {\r\n  const fileName = (opts.fileName || `${data.contact.name.replace(/\\s+/g, '_')}_Resume`).replace(/[^\\w\\-_.]/g, '');\r\n  const md = generateResumeMarkdown(data);\r\n  const htmlBody = markdownToHtml(md);\r\n  const page = opts.page || 'a4';\r\n  // NEW CODE - TESTING: Build a printable fragment (no full <html>) for html2pdf\r\n  const styleCss = `@page { size: ${page}; margin: 24mm; }\r\n  .resume-export-root { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \"Apple Color Emoji\", \"Segoe UI Emoji\"; color: #111827; }\r\n  .resume-export-root h1 { font-size: 28px; margin: 0 0 12px; }\r\n  .resume-export-root h2 { font-size: 18px; margin: 18px 0 8px; }\r\n  .resume-export-root h3 { font-size: 16px; margin: 10px 0 6px; }\r\n  .resume-export-root p { font-size: 12px; line-height: 1.55; margin: 0 0 8px; }\r\n  .resume-export-root ul { margin: 8px 0 12px 18px; padding: 0; }\r\n  .resume-export-root li { margin: 0 0 4px; font-size: 12px; }\r\n  .resume-export-root table { width: 100%; border-collapse: collapse; }\r\n  .resume-export-root td, .resume-export-root th { vertical-align: top; }`;\r\n\r\n  // OLD CODE - KEEP UNTIL CONFIRMED WORKING (full HTML document for print window)\r\n  const html = `<!doctype html>\r\n  <html>\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n    <title>${fileName}</title>\r\n    <style>${styleCss}</style>\r\n  </head>\r\n  <body><div class=\"resume-export-root\">${htmlBody}</div></body>\r\n  </html>`;\r\n\r\n  if (opts.autoDownload) {\r\n    // Try html2pdf from CDN when available\r\n    const existing = (window as any).html2pdf as any;\r\n    const ensure = existing\r\n      ? Promise.resolve(existing)\r\n      : new Promise<any>((resolve, reject) => {\r\n          const s = document.createElement('script');\r\n          s.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';\r\n          s.onload = () => resolve((window as any).html2pdf);\r\n          s.onerror = reject; document.head.appendChild(s);\r\n        });\r\n    try {\r\n      const html2pdf = await ensure;\r\n      const container = document.createElement('div');\r\n      // OLD CODE - KEEP UNTIL CONFIRMED WORKING (invisible container)\r\n      // container.style.position = 'fixed';\r\n      // container.style.top = '0';\r\n      // container.style.left = '0';\r\n      // container.style.opacity = '0';\r\n      // container.style.pointerEvents = 'none';\r\n      // NEW CODE - TESTING: move off-screen but keep visible (opacity 1)\r\n      container.style.position = 'fixed';\r\n      container.style.top = '0';\r\n      container.style.left = '-10000px';\r\n      container.style.opacity = '1';\r\n      container.style.pointerEvents = 'none';\r\n      const pageWidthPx = page === 'a4' ? 794 : 816; // ~96 DPI\r\n      container.style.width = pageWidthPx + 'px';\r\n      const styleEl = document.createElement('style');\r\n      styleEl.textContent = styleCss;\r\n      const root = document.createElement('div');\r\n      root.className = 'resume-export-root';\r\n      root.innerHTML = htmlBody;\r\n      // Ensure a white background to avoid transparent rendering\r\n      (root.style as any).backgroundColor = '#ffffff';\r\n      container.appendChild(styleEl);\r\n      container.appendChild(root);\r\n      document.body.appendChild(container);\r\n      // Allow layout to flush\r\n      await new Promise<void>((r) => requestAnimationFrame(() => r()));\r\n      await new Promise<void>((r) => setTimeout(r, 50));\r\n      await html2pdf()\r\n        .set({\r\n          margin: 0,\r\n          filename: `${fileName}.pdf`,\r\n          image: { type: 'jpeg', quality: 0.95 },\r\n          html2canvas: { scale: 2, useCORS: true, backgroundColor: '#ffffff' },\r\n          jsPDF: { unit: 'pt', format: page === 'a4' ? 'a4' : 'letter', orientation: 'portrait' }\r\n        })\r\n        .from(root)\r\n        .save();\r\n      document.body.removeChild(container);\r\n      return;\r\n    } catch { /* fallback to print */ }\r\n  }\r\n\r\n  const w = window.open('', '_blank');\r\n  if (!w) return;\r\n  w.document.open();\r\n  w.document.write(html);\r\n  w.document.close();\r\n  w.focus();\r\n  setTimeout(() => w.print(), 100);\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}